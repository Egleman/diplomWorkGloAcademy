(()=>{"use strict";const e=(e,t,o)=>{const l=document.querySelectorAll(`.${e}`),n=document.querySelectorAll(`.${t}`),r=document.querySelector(`.${o}`),s=document.querySelector(".overlay");function c(){const e=document.body;e.style.overflow="auto",e.style.marginRight="0"}document.querySelector(".imgPopup"),document.querySelector(".img-fancybox"),l.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),s.style.display="block",r.style.display="block",function(){const e=document.body;e.style.overflow="hidden";const t=function(){let e=document.createElement("div");e.style.width="500px",e.style.height="500px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t}();e.style.marginRight=`${t}px`}()}))})),n.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),s.style.display="none",r.style.display="none",c()}))})),s.addEventListener("click",(e=>{e.preventDefault(),s.style.display="none",r.style.display="none",c()}))},t=(e,t,o,l,n)=>{const r=document.querySelector(`.${l}`),s=document.querySelector(`.${o}`),c=(window.getComputedStyle(r).width,document.querySelectorAll(`.${n}`));if(window.screen.width<576){r.classList.contains("benefits-wrap")&&(r.style.width="185px");const o=window.getComputedStyle(r).width;let l=0;s.style.width=100*c.length+"%",s.style.transition="0.5s all",r.style.overflow="hidden",c.forEach((e=>{e.classList.contains("benefits__item")&&(e.style.width=o)})),window.addEventListener("click",(n=>{n.target.closest(`.${e}`)?(l===+o.slice(0,o.length-2)*(c.length-1)?l=0:l+=+o.slice(0,o.length-2),s.style.transform=`translateX(-${l}px)`):n.target.closest(`.${t}`)&&(0==l?l=+o.slice(0,o.length-2)*(c.length-1):l-=+o.slice(0,o.length-2),s.style.transform=`translateX(-${l}px)`)}))}else{let o=0;const l=window.getComputedStyle(r).width;s.style.width=100*c.length+"%",s.style.transition="0.5s all",r.style.overflow="hidden",c.forEach((e=>{e.classList.contains("benefits__item")?e.style.width=l:e.style.width=+l.slice(0,l.length-2)/2+"px"})),window.addEventListener("click",(n=>{n.target.closest(`.${e}`)?(o===+l.slice(0,l.length-2)*(c.length-1)||o>=l.slice(0,l.length-2)?o=0:o+=+l.slice(0,l.length-2),s.style.transform=`translateX(-${o}px)`):n.target.closest(`.${t}`)&&(0==o?o=l.slice(0,l.length-2):o-=+l.slice(0,l.length-2),s.style.transform=`translateX(-${o}px)`)}))}},o=({formID:e,someElem:t=[]})=>{const o=document.getElementById(e),l=document.createElement("div");try{if(!o)throw new Error("Верните форму на место, пожалуйста!");o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=o.querySelectorAll("input"),n=new FormData(o),r={};o.append(l),l.textContent="Загрузка...",n.forEach(((e,t)=>{r[t]=e})),window.location.toString().indexOf("balkony.html")>0&&t.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?r[e.id]=t.textContent:"input"===e.type&&(r[e.id]=t.value)})),(e=>{let t=!0;return e.forEach((e=>{e.classList.contains("form-phone")?e.value.match(/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{6,}$/gi)||(t=!1,e.classList.add("error")):(e.classList.contains("form-name")||e.classList.contains("top-form"))&&(e.value.match(/^[а-яА-Яa-zA-Z][а-яА-Яa-zA-Z]+[а-яА-Яa-zA-Z]?$/g)||(t=!1,e.classList.add("error")))})),t})(e)?(async e=>{const t=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"aplication/json"}});return await t.json()})(r).then((t=>{e.forEach((e=>{e.value="",e.classList.remove("error")})),l.textContent="Спасибо, наш менеджер с вами свяжется",setTimeout((()=>{l.textContent="";const e=document.querySelector(".header-modal"),t=document.querySelector(".services-modal"),o=document.querySelector(".overlay");e.style.display="none",t.style.display="none",o.style.display="none",function(){const e=document.body;e.style.overflow="auto",e.style.marginRight="0"}()}),5e3)})).catch((e=>{console.log(e,"ошибка")})):(l.textContent="Ошибка...",setTimeout((()=>{l.textContent=""}),5e3))})()}))}catch(e){console.log(e.message)}};e("btn1","header-modal__close","header-modal"),e("btn2","services-modal__close","services-modal"),e("sertificate-document","img-modal__close","img-modal"),t("benefits__arrow--right","benefits__arrow--left","offer__slider-inner","benefits-wrap","benefits__item"),t("services__arrow--right","services__arrow--left","services__slider-inner","slider-service","centrify"),(e=>{let t=document.querySelectorAll(".count_1"),o=document.querySelectorAll(".count_2"),l=document.querySelectorAll(".count_3"),n=document.querySelectorAll(".count_4"),r=null;const s=(e,t)=>{let o=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:o>1&&o<5?t[1]:1==o?t[0]:t[2]},c=()=>{let c=(()=>{let t=new Date(e)-new Date,o=t>0?Math.floor(t/1e3/60/60/24):0,l=t>0?Math.floor(t/1e3/60/60)%24:0,n=t>0?Math.floor(t/1e3/60)%60:0,s=t>0?Math.floor(t/1e3)%60:0;return t<=0&&(clearInterval(r),o=0,l=0,n=0,s=0),{diff:t,days:o,hours:l,minutes:n,seconds:s}})();t.forEach((e=>{e.innerHTML=`${s(c.days,[" День: "," Дня: "," Дней: "])}<br> <span>${c.days<10?"0"+c.days:c.days}</span>`})),o.forEach((e=>{e.innerHTML=`${s(c.hours,[" Час: "," Часа: "," Часов: "])}<br> <span>${c.hours<10?"0"+c.hours:c.hours}</span>`})),l.forEach((e=>{e.innerHTML=`${s(c.minutes,[" Минута: "," Минуты: "," Минут: "])}<br> <span>${c.minutes<10?"0"+c.minutes:c.minutes}</span>`})),n.forEach((e=>{e.innerHTML=`${s(c.seconds,[" Секунда: "," Секунды: "," Секунд: "])}<br> <span>${c.seconds<10?"0"+c.seconds:c.seconds}</span>`}))};c(),r=setInterval(c,1e3)})("15 january 2022"),(()=>{const e=document.querySelectorAll(".form-name"),t=document.querySelectorAll(".form-phone"),o=e=>(e=(e=(e=(e=(e=e.replace(/\s+/g," ")).replace(/-+/g,"-")).replace(/\(+/g,"(")).replace(/\)+/g,")")).replace(/^[ |\-+]/g,"")).replace(/[ |\-+]$/g,"");e.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^а-яёA-Za-z]$/gi,""),t=o(t),t=t.replace(/( |^)[ а-яёA-Za-z]/g,(e=>e.toUpperCase())),e.target.value=t})),e.addEventListener("input",(()=>{e.value=e.value.replace(/[^а-яёA-Za-z}]$/gi,"")}))})),t.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^\d+]{1,16}$/g,""),t=o(t),e.target.value="",e.target.value=t})),e.addEventListener("input",(()=>{e.value=e.value.replace(/[^\d+]{1,16}$/g,"")}))})),t.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("error")&&e.classList.remove("error")}))})),e.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("error")&&e.classList.remove("error")}))}))})(),o({formID:"form1",someElem:[{type:"input",id:"calc-total"}]}),o({formID:"form2",someElem:[{type:"input",id:"calc-total"}]}),o({formID:"form3",someElem:[{type:"input",id:"calc-total"}]}),o({formID:"form4",someElem:[{type:"input",id:"calc-total"}]}),o({formID:"form5",someElem:[{type:"input",id:"calc-total"}]}),o({formID:"form6",someElem:[{type:"input",id:"calc-total"}]}),o({formID:"form7",someElem:[{type:"input",id:"calc-total"}]}),(()=>{let e=document.getElementsByClassName("container")[1].scrollHeight,t=document.getElementsByClassName("container")[2].scrollHeight,o=document.getElementsByClassName("container")[3].scrollHeight,l=document.querySelector(".scrollUp"),n=o+e+t;l.addEventListener("click",(e=>{if(e.preventDefault(),e.target.closest(".scrollUp")){const t=e.target.closest('a[href*="#"]').getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})}})),window.addEventListener("scroll",(()=>{window.pageYOffset>n?l.style.opacity="1":l.style.opacity="0"}))})(),((e=100)=>{const t=document.querySelector("#calc-type"),o=document.querySelector("#calc-type-material"),l=document.querySelector("#calc-input"),n=document.querySelector("#calc-total");window.addEventListener("input",(r=>{r.target!==t&&r.target!==o&&r.target!==l||(()=>{let r=+t.options[t.selectedIndex].value,s=+o.options[o.selectedIndex].value,c=0;Number.isNaN(r)&&(r=1),Number.isNaN(s)&&(s=1),c="--"!=t.value&&l.value?e*r*s*+l.value:0,n.value=c})()}))})(),(()=>{document.querySelector(".avatar-1"),document.querySelector(".avatar-2"),document.querySelector(".avatar-3"),document.querySelector(".comments-name-1"),document.querySelector(".comments-name-2"),document.querySelector(".comments-name-3"),document.querySelector(".comments-comm-1"),document.querySelector(".comments-comm-2"),document.querySelector(".comments-comm-3");let e=[];var t;t=t=>{t.comments.forEach((t=>{e.push(t)}))},fetch("./comments.json").then((e=>e.json())).then(t).catch((e=>{console.log(e,"ошибка, файл не найден")})),console.log(e)})()})();