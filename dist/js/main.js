(()=>{"use strict";const e=(e,t,o)=>{const n=document.querySelectorAll(`.${e}`),r=document.querySelectorAll(`.${t}`),l=document.querySelector(`.${o}`),c=document.querySelector(".overlay");function a(){const e=document.body;e.style.overflow="auto",e.style.marginRight="0"}n.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),c.style.display="block",l.style.display="block",function(){const e=document.body;e.style.overflow="hidden";const t=function(){let e=document.createElement("div");e.style.width="500px",e.style.height="500px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t}();e.style.marginRight=`${t}px`}()}))})),r.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),c.style.display="none",l.style.display="none",a()}))})),c.addEventListener("click",(e=>{e.preventDefault(),c.style.display="none",l.style.display="none",a()}))},t=({formID:e,someElem:t=[]})=>{const o=document.getElementById(e),n=document.createElement("div");try{if(!o)throw new Error("Верните форму на место, пожалуйста!");o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=o.querySelectorAll("input"),r=new FormData(o),l={};o.append(n),n.textContent="Загрузка...",r.forEach(((e,t)=>{l[t]=e})),window.location.toString().indexOf("balkony.html")>0&&t.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?l[e.id]=t.textContent:"input"===e.type&&(l[e.id]=t.value)})),(e=>{let t=!0;return e.forEach((e=>{e.classList.contains("form-phone")?e.value.match(/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{6,}$/gi)||(t=!1,e.classList.add("error")):(e.classList.contains("form-name")||e.classList.contains("top-form"))&&(e.value.match(/^[а-яА-Яa-zA-Z][а-яА-Яa-zA-Z]+[а-яА-Яa-zA-Z]?$/g)||(t=!1,e.classList.add("error")))})),t})(e)?(async e=>{const t=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"aplication/json"}});return await t.json()})(l).then((t=>{e.forEach((e=>{e.value="",e.classList.remove("error")})),n.textContent="Спасибо, наш менеджер с вами свяжется",setTimeout((()=>{n.textContent="";const e=document.querySelector(".header-modal"),t=document.querySelector(".services-modal"),o=document.querySelector(".overlay");e.style.display="none",t.style.display="none",o.style.display="none",function(){const e=document.body;e.style.overflow="auto",e.style.marginRight="0"}()}),5e3),console.log(o)})).catch((e=>{console.log(e,"ошибка")})):(n.textContent="Ошибка...",setTimeout((()=>{n.textContent=""}),5e3))})()}))}catch(e){console.log(e.message)}};e("btn1","header-modal__close","header-modal"),e("btn2","services-modal__close","services-modal"),e("sertificate-document","img-modal__close","img-modal"),new Swiper(".swiper-service",{navigation:{nextEl:".services__arrow--right",prevEl:".services__arrow--left"},breakpoints:{576:{slidesPerView:2,spaceBetween:40}}}),new Swiper(".swiper",{navigation:{nextEl:".benefits__arrow--right",prevEl:".benefits__arrow--left"},breakpoints:{576:{slidesPerView:3,spaceBetween:40}}}),(e=>{let t=document.querySelectorAll(".count_1"),o=document.querySelectorAll(".count_2"),n=document.querySelectorAll(".count_3"),r=document.querySelectorAll(".count_4"),l=null;const c=(e,t)=>{let o=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:o>1&&o<5?t[1]:1==o?t[0]:t[2]},a=()=>{let a=(()=>{let t=new Date(e)-new Date,o=t>0?Math.floor(t/1e3/60/60/24):0,n=t>0?Math.floor(t/1e3/60/60)%24:0,r=t>0?Math.floor(t/1e3/60)%60:0,c=t>0?Math.floor(t/1e3)%60:0;return t<=0&&(clearInterval(l),o=0,n=0,r=0,c=0),{diff:t,days:o,hours:n,minutes:r,seconds:c}})();t.forEach((e=>{e.innerHTML=`${c(a.days,[" День: "," Дня: "," Дней: "])}<br> <span>${a.days<10?"0"+a.days:a.days}</span>`})),o.forEach((e=>{e.innerHTML=`${c(a.hours,[" Час: "," Часа: "," Часов: "])}<br> <span>${a.hours<10?"0"+a.hours:a.hours}</span>`})),n.forEach((e=>{e.innerHTML=`${c(a.minutes,[" Минута: "," Минуты: "," Минут: "])}<br> <span>${a.minutes<10?"0"+a.minutes:a.minutes}</span>`})),r.forEach((e=>{e.innerHTML=`${c(a.seconds,[" Секунда: "," Секунды: "," Секунд: "])}<br> <span>${a.seconds<10?"0"+a.seconds:a.seconds}</span>`}))};a(),l=setInterval(a,1e3)})("15 january 2022"),(()=>{const e=document.querySelectorAll(".form-name"),t=document.querySelectorAll(".form-phone"),o=e=>(e=(e=(e=(e=(e=e.replace(/\s+/g," ")).replace(/-+/g,"-")).replace(/\(+/g,"(")).replace(/\)+/g,")")).replace(/^[ |\-+]/g,"")).replace(/[ |\-+]$/g,"");e.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^а-яёA-Za-z]$/gi,""),t=o(t),t=t.replace(/( |^)[ а-яёA-Za-z]/g,(e=>e.toUpperCase())),e.target.value=t})),e.addEventListener("input",(()=>{e.value=e.value.replace(/[^а-яёA-Za-z}]$/gi,"")}))})),t.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^\d+]{1,16}$/g,""),t=o(t),e.target.value="",e.target.value=t})),e.addEventListener("input",(()=>{e.value=e.value.replace(/[^\d+]{1,16}$/g,"")}))})),t.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("error")&&e.classList.remove("error")}))})),e.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("error")&&e.classList.remove("error")}))}))})(),t({formID:"form1",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form2",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form3",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form4",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form5",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form6",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form7",someElem:[{type:"input",id:"calc-total"}]}),(()=>{let e=document.getElementsByClassName("container")[1].scrollHeight,t=document.getElementsByClassName("container")[2].scrollHeight,o=document.getElementsByClassName("container")[3].scrollHeight,n=document.querySelector(".scrollUp"),r=o+e+t;n.addEventListener("click",(e=>{if(e.preventDefault(),e.target.closest(".scrollUp")){const t=e.target.closest('a[href*="#"]').getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})}})),window.addEventListener("scroll",(()=>{window.pageYOffset>r?n.style.opacity="1":n.style.opacity="0"}))})(),((e=100)=>{const t=document.querySelector("#calc-type"),o=document.querySelector("#calc-type-material"),n=document.querySelector("#calc-input"),r=document.querySelector("#calc-total");window.addEventListener("input",(l=>{l.target!==t&&l.target!==o&&l.target!==n||(()=>{let l=+t.options[t.selectedIndex].value,c=+o.options[o.selectedIndex].value,a=0;Number.isNaN(l)&&(l=1),Number.isNaN(c)&&(c=1),a="--"!=t.value&&n.value?e*l*c*+n.value:0,r.value=a})()}))})(),(()=>{document.querySelector(".avatar-1"),document.querySelector(".avatar-2"),document.querySelector(".avatar-3"),document.querySelector(".comments-name-1"),document.querySelector(".comments-name-2"),document.querySelector(".comments-name-3"),document.querySelector(".comments-comm-1"),document.querySelector(".comments-comm-2"),document.querySelector(".comments-comm-3");let e=[];var t;t=t=>{t.comments.forEach((t=>{e.push(t)}))},fetch("./comments.json").then((e=>e.json())).then(t).catch((e=>{console.log(e,"ошибка, файл не найден")})),console.log(e)})()})();