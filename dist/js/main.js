(()=>{"use strict";const e=(e,t,n)=>{const o=document.querySelectorAll(`.${e}`),s=document.querySelectorAll(`.${t}`),a=document.querySelector(`.${n}`),r=document.querySelector(".overlay");function l(){const e=document.body;e.style.overflow="auto",e.style.marginRight="0"}o.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),r.style.display="block",a.style.display="block",function(){const e=document.body;e.style.overflow="hidden";const t=function(){let e=document.createElement("div");e.style.width="500px",e.style.height="500px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t}();e.style.marginRight=`${t}px`}()}))})),s.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),r.style.display="none",a.style.display="none",l()}))})),r.addEventListener("click",(e=>{e.preventDefault(),r.style.display="none",a.style.display="none",l()}))},t=({formID:e,someElem:t=[]})=>{const n=document.getElementById(e),o=document.createElement("div");try{if(!n)throw new Error("Верните форму на место, пожалуйста!");n.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=n.querySelectorAll("input"),s=new FormData(n),a={};n.append(o),o.textContent="Загрузка...",s.forEach(((e,t)=>{a[t]=e})),window.location.toString().indexOf("balkony.html")>0&&t.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?a[e.id]=t.textContent:"input"===e.type&&(a[e.id]=t.value)})),(e=>{let t=!0;return e.forEach((e=>{e.classList.contains("form-phone")?e.value.match(/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{6,}$/gi)||(t=!1,e.classList.add("error")):(e.classList.contains("form-name")||e.classList.contains("top-form"))&&(e.value.match(/^[а-яА-Яa-zA-Z][а-яА-Яa-zA-Z]+[а-яА-Яa-zA-Z]?$/g)||(t=!1,e.classList.add("error")))})),t})(e)?(async e=>{const t=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"aplication/json"}});return await t.json()})(a).then((t=>{e.forEach((e=>{e.value="",e.classList.remove("error")})),o.textContent="Спасибо, наш менеджер с вами свяжется",setTimeout((()=>{o.textContent="";const e=document.querySelector(".header-modal"),t=document.querySelector(".services-modal"),n=document.querySelector(".overlay");e.style.display="none",t.style.display="none",n.style.display="none",function(){const e=document.body;e.style.overflow="auto",e.style.marginRight="0"}()}),5e3),console.log(n)})).catch((e=>{console.log(e,"ошибка")})):(o.textContent="Ошибка...",setTimeout((()=>{o.textContent=""}),5e3))})()}))}catch(e){console.log(e.message)}},n=document.createElement("div");n.className="preload",n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: rgb(255, 255, 255); display: block; shape-rendering: auto;" width="244px" height="244px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">\n<rect x="20.5" y="30" width="9" height="40" fill="#e15b64">\n  <animate attributeName="y" repeatCount="indefinite" dur="1.3513513513513513s" calcMode="spline" keyTimes="0;0.5;1" values="20;30;30" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.2702702702702703s"></animate>\n  <animate attributeName="height" repeatCount="indefinite" dur="1.3513513513513513s" calcMode="spline" keyTimes="0;0.5;1" values="60;40;40" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.2702702702702703s"></animate>\n</rect>\n<rect x="45.5" y="30" width="9" height="40" fill="#f8b26a">\n  <animate attributeName="y" repeatCount="indefinite" dur="1.3513513513513513s" calcMode="spline" keyTimes="0;0.5;1" values="22.5;30;30" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.13513513513513514s"></animate>\n  <animate attributeName="height" repeatCount="indefinite" dur="1.3513513513513513s" calcMode="spline" keyTimes="0;0.5;1" values="55;40;40" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.13513513513513514s"></animate>\n</rect>\n<rect x="70.5" y="30" width="9" height="40" fill="#abbd81">\n  <animate attributeName="y" repeatCount="indefinite" dur="1.3513513513513513s" calcMode="spline" keyTimes="0;0.5;1" values="22.5;30;30" keySplines="0 0.5 0.5 1;0 0.5 0.5 1"></animate>\n  <animate attributeName="height" repeatCount="indefinite" dur="1.3513513513513513s" calcMode="spline" keyTimes="0;0.5;1" values="55;40;40" keySplines="0 0.5 0.5 1;0 0.5 0.5 1"></animate>\n</rect>\n\x3c!-- [ldio] generated by https://loading.io/ --\x3e</svg>';e("btn1","header-modal__close","header-modal"),e("btn2","services-modal__close","services-modal"),e("sertificate-document","img-modal__close","img-modal"),new Swiper(".swiper-service",{navigation:{nextEl:".services__arrow--right",prevEl:".services__arrow--left"},breakpoints:{576:{slidesPerView:2,spaceBetween:40}}}),new Swiper(".swiper",{navigation:{nextEl:".benefits__arrow--right",prevEl:".benefits__arrow--left"},breakpoints:{576:{slidesPerView:3,spaceBetween:40}}}),(e=>{let t=document.querySelectorAll(".count_1"),n=document.querySelectorAll(".count_2"),o=document.querySelectorAll(".count_3"),s=document.querySelectorAll(".count_4"),a=null;const r=(e,t)=>{let n=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:n>1&&n<5?t[1]:1==n?t[0]:t[2]},l=()=>{let l=(()=>{let t=new Date(e)-new Date,n=t>0?Math.floor(t/1e3/60/60/24):0,o=t>0?Math.floor(t/1e3/60/60)%24:0,s=t>0?Math.floor(t/1e3/60)%60:0,r=t>0?Math.floor(t/1e3)%60:0;return t<=0&&(clearInterval(a),n=0,o=0,s=0,r=0),{diff:t,days:n,hours:o,minutes:s,seconds:r}})();t.forEach((e=>{e.innerHTML=`${r(l.days,[" День: "," Дня: "," Дней: "])}<br> <span>${l.days<10?"0"+l.days:l.days}</span>`})),n.forEach((e=>{e.innerHTML=`${r(l.hours,[" Час: "," Часа: "," Часов: "])}<br> <span>${l.hours<10?"0"+l.hours:l.hours}</span>`})),o.forEach((e=>{e.innerHTML=`${r(l.minutes,[" Минута: "," Минуты: "," Минут: "])}<br> <span>${l.minutes<10?"0"+l.minutes:l.minutes}</span>`})),s.forEach((e=>{e.innerHTML=`${r(l.seconds,[" Секунда: "," Секунды: "," Секунд: "])}<br> <span>${l.seconds<10?"0"+l.seconds:l.seconds}</span>`}))};l(),a=setInterval(l,1e3)})("15 january 2022"),(()=>{const e=document.querySelectorAll(".form-name"),t=document.querySelectorAll(".form-phone"),n=e=>(e=(e=(e=(e=(e=e.replace(/\s+/g," ")).replace(/-+/g,"-")).replace(/\(+/g,"(")).replace(/\)+/g,")")).replace(/^[ |\-+]/g,"")).replace(/[ |\-+]$/g,"");e.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^а-яёA-Za-z]$/gi,""),t=n(t),t=t.replace(/( |^)[ а-яёA-Za-z]/g,(e=>e.toUpperCase())),e.target.value=t})),e.addEventListener("input",(()=>{e.value=e.value.replace(/[^а-яёA-Za-z}]$/gi,"")}))})),t.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^\d+]{1,16}$/g,""),t=n(t),e.target.value="",e.target.value=t})),e.addEventListener("input",(()=>{e.value=e.value.replace(/[^\d+]{1,16}$/g,"")}))})),t.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("error")&&e.classList.remove("error")}))})),e.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("error")&&e.classList.remove("error")}))}))})(),t({formID:"form1",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form2",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form3",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form4",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form5",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form6",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form7",someElem:[{type:"input",id:"calc-total"}]}),(()=>{let e=document.getElementsByClassName("container")[1].scrollHeight,t=document.getElementsByClassName("container")[2].scrollHeight,n=document.getElementsByClassName("container")[3].scrollHeight,o=document.querySelector(".scrollUp"),s=n+e+t;o.addEventListener("click",(e=>{if(e.preventDefault(),e.target.closest(".scrollUp")){const t=e.target.closest('a[href*="#"]').getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})}})),window.addEventListener("scroll",(()=>{window.pageYOffset>s?o.style.opacity="1":o.style.opacity="0"}))})(),((e=100)=>{const t=document.querySelector("#calc-type"),n=document.querySelector("#calc-type-material"),o=document.querySelector("#calc-input"),s=document.querySelector("#calc-total");window.addEventListener("input",(a=>{a.target!==t&&a.target!==n&&a.target!==o||(()=>{let a=+t.options[t.selectedIndex].value,r=+n.options[n.selectedIndex].value,l=0;Number.isNaN(a)&&(a=1),Number.isNaN(r)&&(r=1),l="--"!=t.value&&o.value?e*a*r*+o.value:0,s.value=l})()}))})(),(()=>{const e=document.querySelector(".preloadDiv");let t={},o=[];class s{constructor(e){this.author=e.author,this.image=e.image,this.comment=e.comment}}const a=()=>{const e=document.querySelector(".avatar-1"),t=document.querySelector(".avatar-2"),n=document.querySelector(".avatar-3"),s=document.querySelector(".comments-name-1"),a=document.querySelector(".comments-name-2"),r=document.querySelector(".comments-name-3"),l=document.querySelector(".comments-comm-1"),c=document.querySelector(".comments-comm-2"),i=document.querySelector(".comments-comm-3");let m=(e=>{const t=e[0];return e.push(t),e.splice(0,1),e})(Object.assign([],o));o.splice(0),m.forEach((e=>{o.push(e)})),e.src=`./images/users/${o[0].image}`,t.src=`./images/users/${o[1].image}`,n.src=`./images/users/${o[2].image}`,l.textContent=o[0].comment,c.textContent=o[1].comment,i.textContent=o[2].comment,s.textContent=o[0].author,a.textContent=o[1].author,r.textContent=o[2].author};var r;r=r=>{t=r.comments.map((e=>new s(e))),t.forEach((e=>{o.push(e)})),e.textContent="",e.append(n),setTimeout((()=>{e.removeChild(n),e.innerHTML='<div class="col-sm-offset-1 col-xs-12 comments-container">\n<div class="review-margin-bottom row comment-item">\n    <div class="col-xs-3 col-sm-2">\n        <div class="review-user">\n            <img src="images/users/face4.png" alt="" class="img-responsive avatar avatar-1">\n        </div>\n    </div>\n    <div class="col-xs-9 col-sm-9">\n        <div class="review-inner review-green review-arrow review-arrow-left">\n            <p class="text-normal comments-name-1">Алексей Панкратов</p>\n            <p class="comments-comm-1">Не люблю писать отзывы, но в данном случае решил помочь компании, потому что неоднократно обращался в другие организации со своими просьбами, но либо не было компетентного сотрудника, либо навязывали стандартные решения. У меня коттедж, и мне нужны были нестандартные цветные окна, чтобы не нарушать дизайн интерьера моего дома. Еще один момент, после обращения, ко мне загород бесплатно отправили мастера для обсуждения моего заказа. Парень отработал на отлично, помог с решением технических моментов!</p>\n        </div>\n    </div>\n</div>\n<div class="review-margin-bottom row comment-item">\n    <div class="col-xs-9 col-sm-9">\n        <div class="review-inner review-gray review-arrow review-arrow-right">\n            <p class="text-normal comments-name-2">Григорий и Вероника</p>\n            <p class="comments-comm-2">Мы с супругом приобрели квартиру в ипотеку. Жильё было вторичное, соответственно было необходимо много что поменять, отремонтировать. В компании «Профремонт», нам предложили комплексную услугу на очень хороших условиях. Мы заменили окна, установили натяжные потолки, межкомнатные двери, а также заказали большой шкаф-купе в нашу комнату. За большой заказ нам предоставили очень хорошую скидку, и сделали всё в рассрочку без банка! Очень приятным было внимательное отношение сотрудников компании. Спасибо!</p>\n        </div>\n    </div>\n    <div class="col-xs-3 col-sm-2">\n        <div class="review-user">\n            <img src="images/users/face5.png" alt="" class="img-responsive avatar avatar-2">\n        </div>\n    </div>\n</div>\n<div class="row comment-item">\n    <div class="col-xs-3 col-sm-2">\n        <div class="review-user">\n            <img src="images/users/face6.png" alt="" class="img-responsive avatar avatar-3">\n        </div>\n    </div>\n    <div class="col-xs-9 col-sm-9">\n        <div class="review-inner review-orange review-arrow review-arrow-left">\n            <p class="text-normal comments-name-3">Семья Петровых</p>\n            <p class="comments-comm-3">Давно планировали заменить старые окна на новые, но никак не предоставлялось возможности, потому что требовалась достаточно большая сумма сразу. Увидели рекламу компании «Профремонт», и решили принять участие в их программе. Нам предоставили хорошую рассрочку без банка и переплат. И нам удалось поменять окна во всей квартире сразу! Считаем, что нам очень повезло.</p>\n        </div>\n    </div>\n</div>\n</div>'}),1e3),a()},fetch("./comments.json").then((e=>e.json())).then(r).catch((e=>{console.log(e,"ошибка, файл не найден")})),setInterval((()=>{a()}),5e3)})()})();