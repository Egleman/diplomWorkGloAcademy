(()=>{"use strict";const e=(e,t,n)=>{const o=document.querySelectorAll(`.${e}`),a=document.querySelectorAll(`.${t}`),r=document.querySelector(`.${n}`),l=document.querySelector(".overlay");function s(){const e=document.body;e.style.overflow="auto",e.style.marginRight="0"}o.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),l.style.display="block",r.style.display="block",function(){const e=document.body;e.style.overflow="hidden";const t=function(){let e=document.createElement("div");e.style.width="500px",e.style.height="500px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t}();e.style.marginRight=`${t}px`}()}))})),a.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),l.style.display="none",r.style.display="none",s()}))})),l.addEventListener("click",(e=>{e.preventDefault(),l.style.display="none",r.style.display="none",s()}))},t=({formID:e,someElem:t=[]})=>{const n=document.getElementById(e),o=document.createElement("div");try{if(!n)throw new Error("Верните форму на место, пожалуйста!");n.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=n.querySelectorAll("input"),a=new FormData(n),r={};n.append(o),o.textContent="Загрузка...",a.forEach(((e,t)=>{r[t]=e})),window.location.toString().indexOf("balkony.html")>0&&t.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?r[e.id]=t.textContent:"input"===e.type&&(r[e.id]=t.value)})),(e=>{let t=!0;return e.forEach((e=>{e.classList.contains("form-phone")?e.value.match(/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{6,}$/gi)||(t=!1,e.classList.add("error")):(e.classList.contains("form-name")||e.classList.contains("top-form"))&&(e.value.match(/^[а-яА-Яa-zA-Z][а-яА-Яa-zA-Z]+[а-яА-Яa-zA-Z]?$/g)||(t=!1,e.classList.add("error")))})),t})(e)?(async e=>{const t=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"aplication/json"}});return await t.json()})(r).then((t=>{e.forEach((e=>{e.value="",e.classList.remove("error")})),o.textContent="Спасибо, наш менеджер с вами свяжется",setTimeout((()=>{o.textContent="";const e=document.querySelector(".header-modal"),t=document.querySelector(".services-modal"),n=document.querySelector(".overlay");e.style.display="none",t.style.display="none",n.style.display="none",function(){const e=document.body;e.style.overflow="auto",e.style.marginRight="0"}()}),5e3)})).catch((e=>{console.log(e,"ошибка")})):(o.textContent="Ошибка...",setTimeout((()=>{o.textContent=""}),5e3))})()}))}catch(e){console.log(e.message)}},n=document.createElement("div");n.className="preload",n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: rgb(255, 255, 255); display: block; shape-rendering: auto;" width="244px" height="244px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">\n<rect x="20.5" y="30" width="9" height="40" fill="#e15b64">\n  <animate attributeName="y" repeatCount="indefinite" dur="1.3513513513513513s" calcMode="spline" keyTimes="0;0.5;1" values="20;30;30" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.2702702702702703s"></animate>\n  <animate attributeName="height" repeatCount="indefinite" dur="1.3513513513513513s" calcMode="spline" keyTimes="0;0.5;1" values="60;40;40" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.2702702702702703s"></animate>\n</rect>\n<rect x="45.5" y="30" width="9" height="40" fill="#f8b26a">\n  <animate attributeName="y" repeatCount="indefinite" dur="1.3513513513513513s" calcMode="spline" keyTimes="0;0.5;1" values="22.5;30;30" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.13513513513513514s"></animate>\n  <animate attributeName="height" repeatCount="indefinite" dur="1.3513513513513513s" calcMode="spline" keyTimes="0;0.5;1" values="55;40;40" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.13513513513513514s"></animate>\n</rect>\n<rect x="70.5" y="30" width="9" height="40" fill="#abbd81">\n  <animate attributeName="y" repeatCount="indefinite" dur="1.3513513513513513s" calcMode="spline" keyTimes="0;0.5;1" values="22.5;30;30" keySplines="0 0.5 0.5 1;0 0.5 0.5 1"></animate>\n  <animate attributeName="height" repeatCount="indefinite" dur="1.3513513513513513s" calcMode="spline" keyTimes="0;0.5;1" values="55;40;40" keySplines="0 0.5 0.5 1;0 0.5 0.5 1"></animate>\n</rect>\n\x3c!-- [ldio] generated by https://loading.io/ --\x3e</svg>';e("btn1","header-modal__close","header-modal"),e("btn2","services-modal__close","services-modal"),e("sertificate-document","img-modal__close","img-modal"),new Swiper(".swiper-service",{navigation:{nextEl:".services__arrow--right",prevEl:".services__arrow--left"},breakpoints:{576:{slidesPerView:2,spaceBetween:40}}}),new Swiper(".swiper",{navigation:{nextEl:".benefits__arrow--right",prevEl:".benefits__arrow--left"},breakpoints:{576:{slidesPerView:3,spaceBetween:40}}}),(e=>{let t=document.querySelectorAll(".count_1"),n=document.querySelectorAll(".count_2"),o=document.querySelectorAll(".count_3"),a=document.querySelectorAll(".count_4"),r=null;const l=(e,t)=>{let n=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:n>1&&n<5?t[1]:1==n?t[0]:t[2]},s=()=>{let s=(()=>{let t=new Date(e)-new Date,n=t>0?Math.floor(t/1e3/60/60/24):0,o=t>0?Math.floor(t/1e3/60/60)%24:0,a=t>0?Math.floor(t/1e3/60)%60:0,l=t>0?Math.floor(t/1e3)%60:0;return t<=0&&(clearInterval(r),n=0,o=0,a=0,l=0),{diff:t,days:n,hours:o,minutes:a,seconds:l}})();t.forEach((e=>{e.innerHTML=`${l(s.days,[" День: "," Дня: "," Дней: "])}<br> <span>${s.days<10?"0"+s.days:s.days}</span>`})),n.forEach((e=>{e.innerHTML=`${l(s.hours,[" Час: "," Часа: "," Часов: "])}<br> <span>${s.hours<10?"0"+s.hours:s.hours}</span>`})),o.forEach((e=>{e.innerHTML=`${l(s.minutes,[" Минута: "," Минуты: "," Минут: "])}<br> <span>${s.minutes<10?"0"+s.minutes:s.minutes}</span>`})),a.forEach((e=>{e.innerHTML=`${l(s.seconds,[" Секунда: "," Секунды: "," Секунд: "])}<br> <span>${s.seconds<10?"0"+s.seconds:s.seconds}</span>`}))};s(),r=setInterval(s,1e3)})("15 january 2022"),(()=>{const e=document.querySelectorAll(".form-name"),t=document.querySelectorAll(".form-phone"),n=e=>(e=(e=(e=(e=(e=e.replace(/\s+/g," ")).replace(/-+/g,"-")).replace(/\(+/g,"(")).replace(/\)+/g,")")).replace(/^[ |\-+]/g,"")).replace(/[ |\-+]$/g,"");e.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^а-яёA-Za-z]$/gi,""),t=n(t),t=t.replace(/( |^)[ а-яёA-Za-z]/g,(e=>e.toUpperCase())),e.target.value=t})),e.addEventListener("input",(()=>{e.value=e.value.replace(/[^а-яёA-Za-z}]$/gi,"")}))})),t.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^\d+]{1,16}$/g,""),t=n(t),e.target.value="",e.target.value=t})),e.addEventListener("input",(()=>{e.value=e.value.replace(/[^\d+]{1,16}$/g,"")}))})),t.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("error")&&e.classList.remove("error")}))})),e.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("error")&&e.classList.remove("error")}))}))})(),t({formID:"form1",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form2",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form3",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form4",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form5",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form6",someElem:[{type:"input",id:"calc-total"}]}),t({formID:"form7",someElem:[{type:"input",id:"calc-total"}]}),(()=>{let e=document.getElementsByClassName("container")[1].scrollHeight,t=document.getElementsByClassName("container")[2].scrollHeight,n=document.getElementsByClassName("container")[3].scrollHeight,o=document.querySelector(".scrollUp"),a=n+e+t;o.addEventListener("click",(e=>{if(e.preventDefault(),e.target.closest(".scrollUp")){const t=e.target.closest('a[href*="#"]').getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})}})),window.addEventListener("scroll",(()=>{window.pageYOffset>a?o.style.opacity="1":o.style.opacity="0"}))})(),((e=100)=>{const t=document.querySelector("#calc-type"),n=document.querySelector("#calc-type-material"),o=document.querySelector("#calc-input"),a=document.querySelector("#calc-total");window.addEventListener("input",(r=>{r.target!==t&&r.target!==n&&r.target!==o||(()=>{let r=+t.options[t.selectedIndex].value,l=+n.options[n.selectedIndex].value,s=0;Number.isNaN(r)&&(r=1),Number.isNaN(l)&&(l=1),s="--"!=t.value&&o.value?e*r*l*+o.value:0,a.value=s})()}))})(),(()=>{let e={},t=[];class n{constructor(e){this.author=e.author,this.image=e.image,this.comment=e.comment}}const o=()=>{const e=document.querySelector(".calc-height").offsetHeight;document.querySelector(".calc-height").style.height=e+"px";const n=document.querySelector(".avatar-1"),o=document.querySelector(".avatar-2"),a=document.querySelector(".avatar-3"),r=document.querySelector(".comments-name-1"),l=document.querySelector(".comments-name-2"),s=document.querySelector(".comments-name-3"),c=document.querySelector(".comments-comm-1"),i=document.querySelector(".comments-comm-2"),m=document.querySelector(".comments-comm-3");let u=(e=>{const t=e[0];return e.push(t),e.splice(0,1),e})(Object.assign([],t));t.splice(0),u.forEach((e=>{t.push(e)})),n.src=`./images/users/${t[0].image?t[0].image:"face1.png"}`,o.src=`./images/users/${t[1].image?t[1].image:"face1.png"}`,a.src=`./images/users/${t[2].image?t[2].image:"face1.png"}`,c.textContent=t[0].comment,i.textContent=t[1].comment,m.textContent=t[2].comment,r.textContent=t[0].author,l.textContent=t[1].author,s.textContent=t[2].author};var a;a=a=>{e=a.comments.map((e=>new n(e))),e.forEach((e=>{t.push(e)})),o()},fetch("./comments.json").then((e=>e.json())).then(a).catch((e=>{console.log(e,"ошибка, файл не найден")})),setInterval((()=>{o()}),5e3)})()})();